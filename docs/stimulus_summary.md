# Конспект по Stimulus

### Описание

Stimulus - это фронтенд библиотека, являющаяся частью Hotwire. Позволять оживлять страницы, из личных примеров использования это:
* добавление/удаление элементов на страницу, например кнопок, форм и тп
* добавление/удаление классов и других атрибутов элементов
* отправка запросов
* думаю умеет гораздо больше, просто нужен опыт

### Как это работает

Stimulus использует свои контроллеры, правильный нейминг которых позволяет связывать всё автоматически. Для добавления нового контроллера:
* нужно создать файл `app/javascript/controllers/some_controller.js`
* также нужно подключить и зарегестрировать его в `app/javascript/controllers/index_controller.js` (возможно это не обязательно для каких то сборщиков, нужно читать доку)

Но в rails есть и генератор stimulus контроллеров.

Пример `rails g stimulus hello`, создаст контроллер `controllers/hello_controller.js` и зарегестрирует его в `controllers/index.js`

Для того чтобы связать этот контроллер с элементами, нужно добавить атрибут `data-controller="hello"`. Если мы используем html хелперы, то можно передать аргумент вида `data: { controller: "hello" }`

Если например нам нужно какое то действие, например по клику, мы добавляем новый аргумент в data `action: "click->hello#sayHello"`. Расшифровка:
* `"click"` - действие
* `"->"` - передаём на
* `"hello"` - `hello_controller.js`
* `"#sayHello"` - метод `sayHello()` этого контроллера

### Дополнительно

В stimulus есть возможность добавлять атребуты для targets, classes, value. Прро это нужно внимательнее прочитать в документации, но примерно как я это понял
- **target** это какой то элемент, например у нас внутри div с которым мы работаем, если img и если на него указать `data-hello-target="image"` то внутри колнтроллера, указав `static targets = [ "image" ]` у нас будет доступен этот элемент
- **class** и **value** также похожи, но позоваляют пробросить в контроллер, какие то классы или значения, например id объекта и тп

Подробнее в [документации](https://stimulus.hotwired.dev/reference/controllers)
